<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Admin – Boekhouder Vergelijken</title>
  <meta name="robots" content="noindex,nofollow" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/css/main.css" />

  <style>

  /* =========================
   Admin layout
========================= */

/* Container */
.admin-wrap {
  max-width: 1100px;
  margin-inline: auto;
}

/* Cards grid (responsive) */
#admin-cards.o-grid-cards {
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.25rem;
}

/* =========================
   Admin cards
========================= */

/* Hele kaart klikbaar */
.admin-card {
  display: block;
  color: inherit;
  text-decoration: none;
}

/* No underline anywhere inside cards */
.admin-card,
.admin-card:hover,
.admin-card:focus,
.admin-card:focus-visible,
.admin-card * {
  text-decoration: none !important;
}

/* Card behavior */
.admin-card .c-card {
  height: 100%;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease;
}

.admin-card:hover .c-card {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md, 0 10px 20px rgba(0,0,0,.08));
}

/* Keyboard focus (accessibility) */
.admin-card:focus-visible .c-card {
  outline: 2px solid var(--color-brand);
  outline-offset: 3px;
}

/* =========================
   Mobile tweaks
========================= */

@media (max-width: 520px) {
  #admin-cards.o-grid-cards {
    grid-template-columns: 1fr; /* altijd 1 kolom */
    gap: 0.9rem;
  }

  .admin-wrap {
    max-width: 100%;
  }

  /* Minder padding op mobiel */
  .admin-card .c-card {
    padding: 0.9rem 0.95rem;
  }

  /* Logo / header compacter */
  .admin-card .c-card__header {
    grid-template-columns: 52px 1fr;
    gap: 0.9rem;
  }

  .admin-card .c-card__title {
    font-size: 1.05rem;
  }

  /* Override inline logo size */
  .admin-card [aria-hidden="true"] {
    width: 52px !important;
    height: 52px !important;
  }
}
</style>
</head>
<body>

<header id="site-header" class="c-header"></header>

<script type="module">
  import { initNavMenu } from "/js/ui/navMenu.js";

  async function loadHeader() {
    const el = document.getElementById("site-header");
    if (!el) return;

    // 1) cache
    try {
      const cached = sessionStorage.getItem("bv_header_v1");
      if (cached) {
        el.innerHTML = cached;
        initNavMenu();
        return;
      }
    } catch {}

    // 2) fetch
    try {
      const res = await fetch("/partials/header.html", { cache: "no-store" });
      if (!res.ok) return;

      const html = await res.text();
      el.innerHTML = html;

      try { sessionStorage.setItem("bv_header_v1", html); } catch {}
      initNavMenu();
    } catch {}
  }

  loadHeader();
</script>



<main class="o-container o-container--wide">
  <div class="o-main admin-wrap">
    <div style="display:flex;align-items:flex-end;justify-content:space-between;gap:1rem;flex-wrap:wrap;margin:1.25rem 0 1rem;">
      <div>
        <h1 style="margin:0;">Admin</h1>
        <p style="margin:.35rem 0 0;color:var(--color-muted);">Kies een onderdeel.</p>
      </div>
    </div>

    <section id="admin-cards" class="o-grid-cards"></section>
  </div>
</main>

<footer class="c-footer">
  <div class="o-container">
    <p>© <span id="year"></span> boekhouder-vergelijken.nl</p>
  </div>
</footer>

<script type="module">
  const modules = [
    {
      name: "Dashboard",
      href: "/admin/dashboard/dashboard.html",
      summary: "Overzicht van clicks en statistieken.",
      badge: "Admin"
    }
  ];

  const container = document.getElementById("admin-cards");
  const yearEl = document.getElementById("year");
  if (yearEl) yearEl.textContent = String(new Date().getFullYear());

  function escapeHtml(str) {
    return String(str ?? "")
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  container.innerHTML = modules.map(m => {
    const name = escapeHtml(m.name);
    const href = escapeHtml(m.href);
    const summary = escapeHtml(m.summary || "");
    const badge = escapeHtml(m.badge || "");

    return `
      <a class="admin-card" href="${href}">
        <article class="c-card c-card--featured">
          <div class="c-card__header">
            <div aria-hidden="true" style="
              width:60px;height:60px;border-radius:14px;
              display:flex;align-items:center;justify-content:center;
              background:rgba(11,94,215,.08);
              border:1px solid rgba(11,94,215,.15);
              font-weight:700;
              color:var(--color-brand);
            ">DB</div>

            <div>
              <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;">
                <h2 class="c-card__title" style="margin:0;">${name}</h2>
                ${badge ? `<span class="c-badge">${badge}</span>` : ``}
              </div>

              <p class="c-card__meta">Beveiligd via Cloudflare Access</p>
              ${summary ? `<p class="c-card__summary">${summary}</p>` : ``}
            </div>
          </div>
        </article>
      </a>
    `;
  }).join("");
</script>
</body>
</html>
